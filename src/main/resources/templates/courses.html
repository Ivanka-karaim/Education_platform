<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"xmlns:fmt="http://www.w3.org/1999/XSL/Transform">
<head>
    <meta charset="UTF-8">
    <title>Courses</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="container" align="center">
    <h2>Courses</h2>
    <div th:if="${error}">
        <p th:text="${error}"></p>
    </div>
    <div th:each="el: ${courses}">
        <div class="media">
            <div class="media-body">
                <h2 th:text="${el.name}"></h2>
                <p>Teacher: <strong th:text="${el.teacher.name}"></strong></p>
                <p>Category: <strong th:text="${el.category}"></strong></p>
                <a th:href="'/courses/'+${el.id}" class="btn btn-primary">Watch</a>

                <form method="post" th:action="'/change_enroll_courses'">
                    <div th:if="${el.user_enroll}">
                    <button class="btn btn-primary" type="submit">Відписатись</button>
                    </div>
                    <div th:if="!${el.user_enroll}">
                        <button class="btn btn-primary" type="submit">Зареєструватись</button>

                    </div>
                    <input type="hidden" th:value="${el.id}" name="course_enroll">
                    <input type="hidden" value="/courses" name="page">

                </form>
            </div>
        </div>
        <hr>
    </div>
    <form th:action="@{/logout}" method="post">
        <input type="submit" value="Sign Out"/>
    </form>

</div>
</body>
</html>